<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FarmVille ‚Äî Product Catalog</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

<header class="navbar">
  <div class="logo">
    <img src="farmville-logo.png" alt="FarmVille Logo" class="logo-img" />
  </div>

  <div class="search-bar">
    <input type="text" id="searchInput" placeholder="Search for products..." onkeyup="searchProducts()" />
    <button onclick="searchProducts()">üîç</button>
  </div>

  <nav>
    <ul>
      <li><a href="homepage.html">Home</a></li>
      <li><a href="product-catalog.html" class="active">Browse Products</a></li>
      <li><a href="market-insights.html">Market Insights</a></li>
      <li><a href="order-history.html">My Orders</a></li>
      <li><a href="feedback.html">Feedbacks</a></li>
      <li><a href="login.html">Logout</a></li>
    </ul>
  </nav>
  
  <div class="cart-icon">
    <a href="order-history.html#cart">
      <span id="cartCount">0</span> üõí
    </a>
  </div>
</header>

<main>
    <section id="market-prices">
        <h2>Current Market Prices</h2>
        <p>We source directly from trusted vendors and supply the best to our customers all over Bangladesh at the lowest prices!</p>

        <table>
            <thead>
                <tr>
                    <th>Crop Type</th>
                    <th>Price (per kg)</th>
                    <th>Status</th>
                    <th>Availability</th>
                    <th>Last Updated</th>
                    <th>Vendor Name</th>
                    <th>Delivery Estimate</th>
                    <th>Bulk Order Discount</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="productList">
                <!-- Rows will go here -->
            </tbody>
        </table>
    </section>
</main>

<footer>
    <div class="footer-content">
      <p>&copy; 2025 FarmVille | Market Intelligence for Smarter Farming Decisions</p>
      <p><a href="privacy-policy.html">Privacy Policy</a> | <a href="terms.html">Terms & Conditions</a></p>
      <div class="social-links">
        <a href="https://facebook.com" target="_blank">Facebook</a>
        <a href="https://twitter.com" target="_blank">Twitter</a>
        <a href="https://instagram.com" target="_blank">Instagram</a>
      </div>
    </div>
</footer>

<script>
    const products = [
        {crop: "Coarse Rice", price: "53 ‡ß≥", status: "In Season", availability: "In Stock", updated: "17-Apr-2025", vendor: "GreenField Supplies", delivery: "2-3 Days", discount: "Available"},
        {crop: "Fine Rice", price: "67 ‡ß≥", status: "In Season", availability: "Low Stock", updated: "17-Apr-2025", vendor: "AgroStar Ltd.", delivery: "3 Days", discount: "Available"},
        {crop: "Wheat Flour (Atta)", price: "64 ‡ß≥", status: "In Season", availability: "In Stock", updated: "17-Apr-2025", vendor: "DailyGrain Traders", delivery: "1-2 Days", discount: "Contact for Offer"},
        {crop: "Fine Wheat Flour (Maida)", price: "68 ‡ß≥", status: "In Season", availability: "In Stock", updated: "17-Apr-2025", vendor: "Chittagong Mills Co.", delivery: "2-3 Days", discount: "Available"},
        {crop: "Lentils (Masoor dal)", price: "130 ‡ß≥", status: "In Season", availability: "Low Stock", updated: "17-Apr-2025", vendor: "Bengal Pulses Traders", delivery: "2 Days", discount: "Contact for Offer"},
        {crop: "Green grams (Moong dal)", price: "120 ‡ß≥", status: "Peak Season", availability: "In Stock", updated: "17-Apr-2025", vendor: "Faridpur Agri Co-op", delivery: "2-3 Days", discount: "Available"},
        {crop: "Soybean Oil", price: "180 ‡ß≥", status: "Year-round", availability: "Almost Gone", updated: "17-Apr-2025", vendor: "Shyamoli Oil Traders", delivery: "3-4 Days", discount: "Limited Offer"},
        {crop: "Mustard Oil", price: "230 ‡ß≥", status: "Year-round", availability: "Low Stock", updated: "17-Apr-2025", vendor: "Eastern Mustard Oils", delivery: "3 Days", discount: "Contact for Offer"},
        {crop: "Potatoes", price: "75 ‡ß≥", status: "In Season", availability: "In Stock", updated: "17-Apr-2025", vendor: "FreshHarvest Ltd.", delivery: "1-2 Days", discount: "Available"},
        {crop: "Onions", price: "110 ‡ß≥", status: "Off Season", availability: "Almost Gone", updated: "17-Apr-2025", vendor: "GoldenRoot Suppliers", delivery: "2-4 Days", discount: "Not Available"},
        {crop: "Garlics", price: "220 ‡ß≥", status: "Off Season", availability: "Low Stock", updated: "17-Apr-2025", vendor: "Garlic World Traders", delivery: "3 Days", discount: "Contact for Offer"}
    ];

    // Initialize cart in localStorage if it doesn't exist
    if (!localStorage.getItem('farmvilleCart')) {
        localStorage.setItem('farmvilleCart', JSON.stringify([]));
    }

    function displayProducts(productsToDisplay) {
        const productList = document.getElementById('productList');
        productList.innerHTML = '';
        
        productsToDisplay.forEach(product => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td data-label="Crop Type">${product.crop}</td>
                <td data-label="Price">${product.price}</td>
                <td data-label="Status">${product.status}</td>
                <td data-label="Availability">${product.availability}</td>
                <td data-label="Last Updated">${product.updated}</td>
                <td data-label="Vendor Name">${product.vendor}</td>
                <td data-label="Delivery Estimate">${product.delivery}</td>
                <td data-label="Bulk Order Discount">${product.discount}</td>
                <td data-label="Action">
                    <div class="order-actions">
                        <button class="btn add-to-cart-btn" onclick="addToCart('${product.crop}', '${product.price}', '${product.vendor}')">
                            Add to Cart
                        </button>
                    </div>
                </td>
            `;
            productList.appendChild(row);
        });
    }

    function searchProducts() {
        const input = document.getElementById('searchInput').value.toLowerCase();
        const filteredProducts = products.filter(product =>
            product.crop.toLowerCase().includes(input) ||
            product.price.toLowerCase().includes(input) ||
            product.status.toLowerCase().includes(input) ||
            product.availability.toLowerCase().includes(input) ||
            product.vendor.toLowerCase().includes(input)
        );
        displayProducts(filteredProducts);
    }

    function addToCart(crop, price, vendor) {
        const cart = JSON.parse(localStorage.getItem('farmvilleCart')) || [];
        
        // Check if product already exists in cart
        const existingProduct = cart.find(item => item.crop === crop && item.vendor === vendor);
        
        if (existingProduct) {
            existingProduct.quantity += 1;
        } else {
            cart.push({
                crop: crop,
                price: price,
                vendor: vendor,
                quantity: 1
            });
        }
        
        localStorage.setItem('farmvilleCart', JSON.stringify(cart));
        updateCartCount();
        
        alert(`${crop} added to cart!`);
    }

    function updateCartCount() {
        const cart = JSON.parse(localStorage.getItem('farmvilleCart')) || [];
        const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
        document.getElementById('cartCount').innerText = totalItems;
    }

    // Display all products by default
    displayProducts(products);
    updateCartCount();
</script>

</body>
</html>