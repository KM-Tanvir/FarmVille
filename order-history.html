<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FarmVille ‚Äî Your Agri Market Partner</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<header class="navbar">
  <div class="logo">
    <img src="farmville-logo.png" alt="FarmVille Logo" class="logo-img" />
  </div>
  <nav>
    <ul>
      <li><a href="homepage.html">Home</a></li>
      <li><a href="product-catalog.html">Browse Products</a></li>
      <li><a href="market-insights.html">Market Insights</a></li>
      <li><a href="order-history.html" class="active">My Orders</a></li>
      <li><a href="feedback.html">Feedbacks</a></li>
      <li><a href="login.html">Logout</a></li>
    </ul>
  </nav>
  <div class="cart-icon">
    <a href="#cart">
      <span id="cartCount">0</span> üõí
    </a>
  </div>
</header>

<!-- Cart Section -->
<section id="cart" class="content-box">
  <h2 class="text-center">My Cart</h2>
  <div id="cartItems">
    <!-- Cart items will be dynamically added here -->
  </div>
  
  <div id="emptyCartMessage" class="text-center" style="display: none;">
    <p>Your cart is empty. <a href="product-catalog.html">Browse products</a> to add items to your cart.</p>
  </div>
  
  <div id="cartSummary" class="cart-summary">
    <p><strong>Total Items:</strong> <span id="totalItems">0</span></p>
    <p><strong>Subtotal:</strong> <span id="subtotal">0 ‡ß≥</span></p>
    <p><strong>Delivery Fee:</strong> <span id="deliveryFee">100 ‡ß≥</span></p>
    <p><strong>Total:</strong> <span id="total">0 ‡ß≥</span></p>
  </div>
  
  <div class="button-container">
    <button id="clearCart" class="btn">Clear Cart</button>
    <button id="placeOrder" class="btn">Place Order</button>
  </div>
</section>



<!-- Order Form Section -->
<section>
  <h2 class="text-center">Complete Your Order</h2>
  <p class="text-center">Please fill in your details to place your order.</p>
  <form id="orderForm">
      <!-- Personal Information -->
      <div class="form-section">
          <h3>Personal Information</h3>
          <div class="form-row">
              <div class="form-group">
                  <label for="firstName" class="form-label required-field">First Name</label>
                  <input type="text" id="firstName" class="form-control" required>
              </div>
              <div class="form-group">
                  <label for="lastName" class="form-label required-field">Last Name</label>
                  <input type="text" id="lastName" class="form-control" required>
              </div>
          </div>
          <div class="form-row">
              <div class="form-group">
                  <label for="email" class="form-label required-field">Email Address</label>
                  <input type="email" id="email" class="form-control" required>
              </div>
              <div class="form-group">
                  <label for="phone" class="form-label required-field">Phone Number</label>
                  <input type="tel" id="phone" class="form-control" required>
              </div>
          </div>
      </div>

      <!-- Shipping Address -->
      <div class="form-section">
          <h3>Shipping Address</h3>
          <div class="form-row">
              <div class="form-group">
                  <label for="houseNo" class="form-label required-field">House Number</label>
                  <input type="text" id="houseNo" class="form-control" required>
              </div>
              <div class="form-group">
                  <label for="street" class="form-label">Street</label>
                  <input type="text" id="street" class="form-control">
              </div>
          </div>
          <div class="form-group">
            <label for="postOffice" class="form-label">Post Office</label>
            <input type="text" id="postOffice" class="form-control">
        </div>
        <div class="form-row">
          <div class="form-group">
              <label for="zipCode" class="form-label required-field">ZIP/Postal Code</label>
              <input type="text" id="zipCode" class="form-control" required>
          </div>

          <div class="form-row">
              <div class="form-group">
                  <label for="district" class="form-label required-field">District</label>
                  <input type="text" id="district" class="form-control" required>
              </div>

              <div class="form-group">
                  <label for="division" class="form-label required-field">Division</label>
                  <select id="division" class="form-select" required>
                      <option value="">Select Division</option>
                      <option value="dhaka">Dhaka</option>
                      <option value="chattogram">Chattogram</option>
                      <option value="khulna">Khulna</option>
                      <option value="barishal">Barishal</option>
                      <option value="rajshahi">Rajshahi</option>
                      <option value="rangpur">Rangpur</option>
                      <option value="mymensingh">Mymensingh</option>
                      <option value="sylhet">Sylhet</option>
                  </select>
              </div>

<!-- Payment Information -->
<div class="form-section">
  <h3>Payment Method</h3>
  <div class="payment-options">
      <div class="payment-option">
          <input type="radio" id="creditCard" name="paymentMethod" value="creditCard" checked>
          <label for="creditCard">Credit Card</label>
      </div>
      <div class="payment-option">
          <input type="radio" id="mobileMoney" name="paymentMethod" value="mobileMoney">
          <label for="mobileMoney">Mobile Money</label>
      </div>
      <div class="payment-option">
          <input type="radio" id="cashOnDelivery" name="paymentMethod" value="cashOnDelivery">
          <label for="cashOnDelivery">Cash on Delivery</label>
      </div>
  </div>

  <!-- Credit Card Details (shown by default) -->
  <div id="creditCardDetails" class="payment-details">
      <div class="form-row">
          <div class="form-group">
              <label for="cardName" class="form-label required-field">Name on Card</label>
              <input type="text" id="cardName" class="form-control">
          </div>
          <div class="form-group">
              <label for="cardNumber" class="form-label required-field">Card Number</label>
              <input type="text" id="cardNumber" class="form-control" placeholder="XXXX XXXX XXXX XXXX">
          </div>
      </div>
      <div class="form-row">
          <div class="form-group">
              <label for="expiryDate" class="form-label required-field">Expiry Date</label>
              <input type="text" id="expiryDate" class="form-control" placeholder="MM/YY">
          </div>
          <div class="form-group">
              <label for="cvv" class="form-label required-field">CVV</label>
              <input type="text" id="cvv" class="form-control" placeholder="XXX">
          </div>
      </div>
  </div>
  
  <!-- Mobile Money Details (initially hidden) -->
  <div id="mobileMoneyDetails" class="payment-details" style="display: none;">
      <div class="form-row">
          <div class="form-group">
              <label for="mobileProvider" class="form-label required-field">Mobile Payment Provider</label>
              <select id="mobileProvider" class="form-select">
                  <option value="">Select Provider</option>
                  <option value="bkash">bKash</option>
                  <option value="nagad">Nagad</option>
                  <option value="rocket">Rocket</option>
              </select>
          </div>
          <div class="form-group">
              <label for="mobileNumber" class="form-label required-field">Mobile Number</label>
              <input type="tel" id="mobileNumber" class="form-control" placeholder="01XXXXXXXXX">
          </div>
      </div>
  </div>
  
  <!-- Cash on Delivery Details (initially hidden) -->
  <div id="cashOnDeliveryDetails" class="payment-details" style="display: none;">
      <div class="alert alert-info">
          <strong>Cash on Delivery:</strong> Pay in cash when your order arrives. Please have the exact amount ready.
      </div>
  </div>
</div>


      <!-- Additional Information -->
      <div class="form-section">
          <h3>Additional Information</h3>
          <div class="checkbox-group">
              <label>
                  <input type="checkbox" id="farmUpdates">
                  Receive updates about our local farm events and activities
              </label>
              <label>
                  <input type="checkbox" id="termsAndConditions" required>
                  I agree to the <a href="#">Terms and Conditions</a> and <a href="#">Privacy Policy</a>
              </label>
          </div>
          <div class="form-group">
              <label for="orderNotes" class="form-label">Order Notes (Optional)</label>
              <textarea id="orderNotes" class="form-control" rows="3" placeholder="Any additional notes about your order..."></textarea>
          </div>
      </div>

 
      <!-- Submit Button -->
     <section>
      <div class="text-center">
          <button type="submit" class="btn" id="submitOrder">Place Order</button>
      </div>
    </section>
  </form>
</section>


<section class="content-box">
  <h2 class="text-center">Order History</h2>

  <!-- Order 1 -->
  <div class="vendor-card">
    <div class="order-header">
      <h3>Order ID: #FV12345</h3>
      <p><strong>Date:</strong> April 16, 2025</p>
      <span class="certified">‚úîÔ∏è Delivered</span>
    </div>
    <div class="product-grid">
      <div class="product-card">
        <div class="product-info">
          <div class="product-details">
            <h3>Onion</h3>
            <p>Quantity: 3 kg</p>
            <p>Vendor: GoldenRoot Suppliers</p>
          </div>
        </div>
      </div>
      <div class="product-card">
        <div class="product-info">
          <div class="product-details">
            <h3>Potato</h3>
            <p>Quantity: 5 kg</p>
            <p>Vendor: FreshHarvest Ltd. </p>
          </div>
        </div>
      </div>
    </div>
    <p>üí≤ Total Amount: 290.00 ‡ß≥ (incl. delivery & taxes)</p>
    <p>üìç Delivery Address: 123 Mirpur Road, Dhaka</p>
    <p>üí≥ Payment: Mobile Money</p>
    <p>üå± Harvest Date: April 14, 2025</p>
    <p>üï∞ Estimated Delivery Time: Delivered within 24 hours</p>
    <div class="button-container">
      <a href="#" class="btn">Download Invoice</a>
      <a href="#" class="btn">Contact Support</a>
      <a href="product-catalog.html" class="btn">üîÅ Reorder</a>
      <a href="feedback.html" class="btn">‚≠ê Leave Review</a>
    </div>
  </div>

  <!-- Order 2 -->
  <div class="vendor-card">
    <div class="order-header">
      <h3>Order ID: #FV12346</h3>
      <p><strong>Date:</strong> April 14, 2025</p>
      <span class="certified" style="background-color: #fef9c3; color: #ca8a04;">‚è≥ In Progress</span>
    </div>
    <div class="product-grid">
      <div class="product-card">
        <div class="product-info">
          <div class="product-details">
            <h3>Garlic</h3>
            <p>Quantity: 50kg</p>
            <p>Vendor: Garlic World Traders</p>
          </div>
        </div>
      </div>
      <div class="product-card">
        <div class="product-info">
          <div class="product-details">
            <h3>Onion</h3>
            <p>Quantity: 40 kg</p>
            <p>Vendor: GoldenRoot Suppliers</p>
          </div>
        </div>
      </div>
    </div>
    <p>üí≤ Total Amount: 13600.00‡ß≥ (incl. delivery & taxes)</p>
    <p>üìç Delivery Address: 456 Love Road, Chittagong</p>
    <p>üí≥ Payment: Visa</p>
    <p>üå± Harvest Date: April 12, 2025</p>
    <p>üï∞ Estimated Delivery Time: 2-3 Days</p>
    <div class="button-container">
      <a href="#" class="btn">Download Invoice</a>
      <a href="#" class="btn">Contact Support</a>
      <a href="product-catalog.html" class="btn">üîÅ Reorder</a>
      <a href="feedback.html" class="btn">‚≠ê Leave Review</a>
    </div>
  </div>

  <!-- Order 3 -->
  <div class="vendor-card">
    <div class="order-header">
      <h3>Order ID: #FV12347</h3>
      <p><strong>Date:</strong> April 10, 2025</p>
      <span class="certified" style="background-color: #fee2e2; color: #dc2626;">‚ùå Cancelled</span>
    </div>
    <div class="product-grid">
      <div class="product-card">
        <div class="product-info">
          <div class="product-details">
            <h3>Fine Rice</h3>
            <p>Quantity: 1000kg</p>
            <p>Vendor: AgroStar Ltd.</p>
          </div>
        </div>
      </div>
    </div>
    <p>üí≤ Total Amount: 67600.00 ‡ß≥ (incl. delivery & taxes)</p>
    <p>üìç Delivery Address: 789 Chowdhury Para, Naoga</p>
    <p>üí≥ Payment: Cash on Delivery</p>
    <p>üå± Harvest Date: April 8, 2025</p>
    <p>üï∞ Estimated Delivery Time: N/A</p>
    <div class="button-container">
      <a href="#" class="btn">Download Invoice</a>
      <a href="#" class="btn">Contact Support</a>
      <a href="product-catalog.html" class="btn">üîÅ Reorder</a>
      <a href="feedback.html" class="btn">‚≠ê Leave Review</a>
    </div>
  </div>
</section>

<footer>
  <div class="footer-content">
    <p>&copy; 2025 FarmVille | Market Intelligence for Smarter Farming Decisions</p>
    <p><a href="privacy-policy.html">Privacy Policy</a> | <a href="terms.html">Terms & Conditions</a></p>
    <div class="social-links">
      <a href="https://facebook.com" target="_blank">Facebook</a>
      <a href="https://twitter.com" target="_blank">Twitter</a>
      <a href="https://instagram.com" target="_blank">Instagram</a>
    </div>
  </div>
</footer>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Load cart from localStorage
    loadCart();
    
    // Setup event listeners
    document.getElementById('clearCart').addEventListener('click', clearCart);
    
    // Get the placeOrder button and add event listener
    const placeOrderBtn = document.getElementById('placeOrder');
    if (placeOrderBtn) {
      placeOrderBtn.addEventListener('click', placeOrder);
    }
  });
  
  function loadCart() {
    const cart = JSON.parse(localStorage.getItem('farmvilleCart')) || [];
    const cartItems = document.getElementById('cartItems');
    const emptyCartMessage = document.getElementById('emptyCartMessage');
    const cartSummary = document.getElementById('cartSummary');
    const clearCartBtn = document.getElementById('clearCart');
    const placeOrderBtn = document.getElementById('placeOrder');
    
    // Update cart count
    document.getElementById('cartCount').innerText = cart.reduce((total, item) => total + item.quantity, 0);
    
    // Clear previous items
    cartItems.innerHTML = '';
    
    if (cart.length === 0) {
      emptyCartMessage.style.display = 'block';
      cartSummary.style.display = 'none';
      clearCartBtn.style.display = 'none';
      placeOrderBtn.style.display = 'none';
      return;
    }
    
    emptyCartMessage.style.display = 'none';
    cartSummary.style.display = 'block';
    clearCartBtn.style.display = 'inline-block';
    placeOrderBtn.style.display = 'inline-block';
    
    // Create cart items table
    const table = document.createElement('table');
    table.className = 'cart-table';
    
    // Add table header
    const tableHeader = document.createElement('thead');
    tableHeader.innerHTML = `
      <tr>
        <th>Product</th>
        <th>Price</th>
        <th>Vendor</th>
        <th>Quantity</th>
        <th>Subtotal</th>
        <th>Action</th>
      </tr>
    `;
    table.appendChild(tableHeader);
    
    // Add table body
    const tableBody = document.createElement('tbody');
    
    let subtotal = 0;
    let totalItems = 0;
    
    cart.forEach((item, index) => {
      const priceNumber = parseInt(item.price.replace('‡ß≥', '').trim());
      const itemSubtotal = priceNumber * item.quantity;
      subtotal += itemSubtotal;
      totalItems += item.quantity;
      
      const row = document.createElement('tr');
      row.innerHTML = `
        <td data-label="Product">${item.crop}</td>
        <td data-label="Price">${item.price}</td>
        <td data-label="Vendor">${item.vendor}</td>
        <td data-label="Quantity">
          <div class="quantity-controls">
            <button class="quantity-btn" onclick="decreaseQuantity(${index})">-</button>
            <input type="number" min="1" value="${item.quantity}" onchange="updateQuantity(${index}, this.value)">
            <button class="quantity-btn" onclick="increaseQuantity(${index})">+</button>
          </div>
        </td>
        <td data-label="Subtotal">${itemSubtotal} ‡ß≥</td>
        <td data-label="Action">
          <button class="remove-btn" onclick="removeFromCart(${index})">üóëÔ∏è</button>
        </td>
      `;
      tableBody.appendChild(row);
    });
    
    table.appendChild(tableBody);
    cartItems.appendChild(table);
    
    // Update cart summary
    const deliveryFee = 60; // Fixed delivery fee
    const total = subtotal + deliveryFee;
    
    document.getElementById('totalItems').innerText = totalItems;
    document.getElementById('subtotal').innerText = subtotal + ' ‡ß≥';
    document.getElementById('total').innerText = total + ' ‡ß≥';
  }
  
  function updateQuantity(index, value) {
    const cart = JSON.parse(localStorage.getItem('farmvilleCart')) || [];
    const quantity = parseInt(value);
    
    if (quantity <= 0) {
      removeFromCart(index);
      return;
    }
    
    cart[index].quantity = quantity;
    localStorage.setItem('farmvilleCart', JSON.stringify(cart));
    loadCart();
  }
  
  function increaseQuantity(index) {
    const cart = JSON.parse(localStorage.getItem('farmvilleCart')) || [];
    cart[index].quantity += 1;
    localStorage.setItem('farmvilleCart', JSON.stringify(cart));
    loadCart();
  }
  
  function decreaseQuantity(index) {
    const cart = JSON.parse(localStorage.getItem('farmvilleCart')) || [];
    if (cart[index].quantity > 1) {
      cart[index].quantity -= 1;
      localStorage.setItem('farmvilleCart', JSON.stringify(cart));
    } else {
      removeFromCart(index);
    }
    loadCart();
  }
  
  function removeFromCart(index) {
    const cart = JSON.parse(localStorage.getItem('farmvilleCart')) || [];
    cart.splice(index, 1);
    localStorage.setItem('farmvilleCart', JSON.stringify(cart));
    loadCart();
  }
  
  function clearCart() {
    if (confirm('Are you sure you want to clear your cart?')) {
      localStorage.setItem('farmvilleCart', JSON.stringify([]));
      loadCart();
    }
  }
  
  function placeOrder() {
    const cart = JSON.parse(localStorage.getItem('farmvilleCart')) || [];
    if (cart.length === 0) {
      alert('Your cart is empty. Please add items before placing an order.');
      return;
    }
    
    if (confirm('Do you want to proceed with this order?')) {
      alert('Order placed successfully! Your order ID is #FV' + Math.floor(10000 + Math.random() * 90000));
      localStorage.setItem('farmvilleCart', JSON.stringify([]));
      loadCart();
      
      // Reload the page to show the new order in history (in a real app, this would be handled by the backend)
      setTimeout(() => {
        window.location.reload();
      }, 1000);
    }
  }
</script>
<script>
  // Toggle payment details based on selected payment method
  document.querySelectorAll('input[name="paymentMethod"]').forEach(input => {
      input.addEventListener('change', function() {
          // Hide all payment details first
          document.querySelectorAll('.payment-details').forEach(details => {
              details.style.display = 'none';
          });
          
          // Show the selected payment method's details
          const selectedMethod = this.value;
          if (selectedMethod === 'creditCard') {
              document.getElementById('creditCardDetails').style.display = 'block';
          } else if (selectedMethod === 'mobileMoney') {
              document.getElementById('mobileMoneyDetails').style.display = 'block';
          } else if (selectedMethod === 'cashOnDelivery') {
              document.getElementById('cashOnDeliveryDetails').style.display = 'block';
          }
      });
  });
  </script>

</body>
</html>